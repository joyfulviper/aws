## 모니터링
- 웹에 공개하는 서비스는 웹 서버나 데이터베이스 서버 등 다양한 리소스가 조합되어 작동함
- 그 중 하나라도 고장나면 서비스 전체가 작동하지 않을 가능성이 있음
- 이런 상황에서 신속하게 서비스를 복구하려면 시스템의 상태가 어떤지 파악해 둬야 함
- 이를 모니터링이라고 함

### 효율적인 모니터링
효율적인 모니터링을 위해서 아래의 요소를 고려해야 함

- 집중 관리
  - 여러 기능을 한 곳에서 모아볼 수 있어야 함 (대시보드)
- 알림
  - 24시간 대시보드를 보고 있을 수 없으니 특정 상황에서 알림을 보내줄 필요가 있음(서버가 장애, 이용자의 폭증으로 인한 반응 지연 등)
- 지속적인 정보 수집
  - 서비스에 어떤 문제가 발생했을 때 그 시점 뿐만 아니라 평소에도 자주 나타날 가능성이 있음
  - 따라서 수개월 도는 수년 단위로 지속적인 정보를 수집해 놓고 나중에 참조할 수 있게 해야 함
### 주요 모니터링 항목
- 생사 모니터링
  - 해당 리스소가 작동하는가를 모니터링
- CPU 사용률
  - 과도한 작업을 수행하는가를 모니터링
- 메모리 사용률
  - 리소스에 제공되는 메모리가 많이 쓰이지 않는가를 모니터링
- 디스크 용량
  - 리소스에 연결된 디스크의 빈 용량이 충분한지 모니터링
- 네트워크 트래픽
  - 리소스에서 나오는 통신량을 확인
### 리소스별 모니터링 항목
|          | 생사 모니터링 | CPU 사용률 | 메모리 사용률 | 디스크 용량 | 네트워크 트래픽 | 기타 |
|----------|---------------|------------|--------------|-------------|----------------|------|
| EC2 | O | O | O | O | ㅁ|
| RDS | O | O | O | ㅁ | ㅁ| SQL 레이턴시, 처리량 등|
| ALB | - | - | - | - | ㅁ|
| S3  | - | - | - | O | O|

- EC2
  - OS 자체의 관리를 수행하므로 네트워크 트래픽을 제외하고 모니터링할 필요가 있다.(로드밸런서, 점프서버를 통해 네트워크 트래픽이 들어오기 때문)
- RDS
  - EC2 인스턴스와 비슷하게 모니터링할 필요가 있고 추가적으로 SQL 레이턴시, 처리량은 모니터링하면 좋음
- ALB
  - 장애가 나는 경우는 거의 없지만 트래픽 정도는 모니터링 하는게 좋음
- S3
  - 마찬가지로 장애가 잘안나지만 통신량이 비용에 직접 반영되므로 과도한 통신이 발생하지 않도록 모니터링을 할 필요가 있음
